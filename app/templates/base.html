<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  {% set site_url = site_url or 'https://www.motelbelavista.com.br' %}
  {% set canonical_url = site_url ~ (request.url.path if request else '/') %}
  <meta name="robots" content="index,follow" />
  <meta name="description" content="{% block meta_description %}Motel Bela Vista em Rio Pardo/RS. Conforto, privacidade e atendimento 24h.{% endblock %}" />
  <link rel="canonical" href="{{ canonical_url }}" />

  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Motel Bela Vista" />
  <meta property="og:title" content="{% block og_title %}Motel Bela Vista — Rio Pardo/RS{% endblock %}" />
  <meta property="og:description" content="{% block og_description %}Motel Bela Vista em Rio Pardo/RS. Conforto, privacidade e atendimento 24h.{% endblock %}" />
  <meta property="og:url" content="{{ canonical_url }}" />
  <meta property="og:image" content="{{ site_url }}/static/img/logo.png" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="{% block twitter_title %}Motel Bela Vista — Rio Pardo/RS{% endblock %}" />
  <meta name="twitter:description" content="{% block twitter_description %}Motel Bela Vista em Rio Pardo/RS. Conforto, privacidade e atendimento 24h.{% endblock %}" />
  <meta name="twitter:image" content="{{ site_url }}/static/img/logo.png" />

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    "name": "Motel Bela Vista",
    "url": "{{ site_url }}/",
    "image": "{{ site_url }}/static/img/logo.png",
    "telephone": ["+55 51 99584-3009", "+55 51 99584-3002"],
    "email": "{% if site.email %}{{ site.email }}{% else %}motelbelavistarp@gmail.com{% endif %}",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "Rua Guarani 212",
      "addressLocality": "Rio Pardo",
      "addressRegion": "RS",
      "postalCode": "96640-000",
      "addressCountry": "BR"
    },
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": -29.97660778754643,
      "longitude": -52.37178154232816
    },
    "hasMap": "https://www.google.com/maps/search/?api=1&query=Motel%20Bela%20Vista%2C%20Rua%20Guarani%20212%2C%20Rio%20Pardo%20RS%2C%20CEP%2096640-000%2C%20Brasil"
  }
  </script>
  {% if ga4_measurement_id %}
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ ga4_measurement_id }}"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '{{ ga4_measurement_id }}');
      (function(){
        function track(method, href){
          try { gtag('event', 'contact_click', { method: method, href: href }); } catch(e) {}
        }
        document.addEventListener('click', function(ev){
          var a = ev.target && ev.target.closest ? ev.target.closest('a') : null;
          if(!a || !a.href) return;
          var href = a.href;
          if(href.indexOf('https://wa.me/') === 0){ track('whatsapp', href); return; }
          if(href.indexOf('tel:') === 0){ track('phone', href); return; }
        }, true);
      })();
    </script>
  {% endif %}
  <title>{% block title %}Motel Bela Vista — Rio Pardo/RS{% endblock %}</title>
  <link rel="icon" href="/static/img/favicon.png" type="image/png" />
  <link rel="icon" href="/static/img/logo.svg" type="image/svg+xml" />
  <link rel="shortcut icon" href="/static/img/favicon.png" type="image/png" />
  <link rel="apple-touch-icon" href="/static/img/favicon.png" />
  <style>
    :root{ --bg:#0b1020; --card:#121a33; --muted:#9fb3d1; --text:#e8eef7; --primary:#C2185B; --accent:#ffd166; --danger:#ff6b6b; --radius:14px; }
    *{ box-sizing:border-box }
    body{ margin:0; font-family:Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial; background:var(--bg); color:var(--text) }
    a{ color:var(--primary); text-decoration:none }
    header{ position:sticky; top:0; backdrop-filter: blur(6px); background:rgba(11,16,32,.6); border-bottom:1px solid rgba(255,255,255,.06) }
    .container{ max-width:1100px; margin:0 auto; padding:24px }
    .brand{ display:flex; gap:12px; align-items:center }
    .contact-line{ margin-top:8px; color:var(--muted); display:flex; gap:6px; flex-wrap:wrap; align-items:center }
    .logo{ width:50px; height:50px; border-radius:8px; display:block; object-fit:contain; background:transparent }
    .title{ font-weight:700; letter-spacing:.3px }
    .subtitle{ color:var(--muted); font-size:.95rem }
    main{ padding:32px 0 }
    .card{ background:var(--card); border:1px solid rgba(255,255,255,.06); border-radius:var(--radius); padding:20px }
    .grid{ display:grid; gap:16px }
    .cols-2{ grid-template-columns:repeat(2, minmax(0, 1fr)) }
    .btn{ display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:10px; border:1px solid rgba(255,255,255,.08); background:#1a254a; color:#eaf1fb; font: inherit; font-size: 1rem; line-height: 1.15 }
    .btn:hover{ background:#223062 }
    .badge{ display:inline-block; padding:4px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.12); color:#dbe7fb; background:#14204a; font-size:.85rem }
    .table-wrap{ overflow:auto; -webkit-overflow-scrolling:touch }
    .scroll-hint{ display:none; margin:0 0 10px; padding:8px 10px; border-radius:12px; border:1px solid rgba(255,255,255,.12); background:rgba(255,209,102,.12); color:#ffe7a6; font-size:.92rem; font-weight:700; line-height:1.25 }
    .price-table{ width:100%; min-width:520px; border-collapse:collapse }
    .price-table th{ position:sticky; top:0; z-index:2; background:var(--card); padding:8px 10px !important; border-bottom:1px solid rgba(255,255,255,.08) !important }
    .price-table td{ padding:10px 10px !important }
    footer{ border-top:1px solid rgba(255,255,255,.06); color:var(--muted) }
    .mapbar{ position:relative; height:300px; background:rgba(10,14,28,.95); border-top:1px solid rgba(255,255,255,.1); margin-top:24px }
    .mapbar .wrap{ max-width:1100px; margin:0 auto; height:100%; padding:12px 24px; display:grid; grid-template-columns: 1fr 1.2fr; gap:16px; align-items:stretch }
    .mapbar .info{ display:flex; flex-direction:column; gap:8px }
    .mapbar .info .line{ color:#d4def0 }
    .mapbar .info .label{ color:var(--muted); font-size:.9rem }
    .mapbar iframe{ width:100%; height:100%; border:0; display:block; border-radius:10px }
    /* Admin forms */
    .form{ display:grid; gap:14px }
    .form .row{ display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:12px }
    .field label{ display:block; margin:0 0 6px; font-weight:600; color:var(--muted) }
    .field input, .field textarea, .field select{ width:100%; padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,.12); background:#0f1730; color:#eaf1fb }
    .actions{ margin-top:16px; display:flex; gap:10px; flex-wrap:wrap }

    @media (max-width: 640px){
      header{ position:sticky; top:0; z-index:50 }
      .container{ padding:16px }
      main{ padding:18px 0 }
      .card{ padding:16px }
      .logo{ width:42px; height:42px }
      .title{ font-size:1.05rem }
      .subtitle{ font-size:.95rem }
      .scroll-hint{ display:block }
      .contact-line{ font-size:.92rem; flex-direction:column; align-items:flex-start }
      .contact-line a{ display:block }
      .contact-line .sep{ display:none }
      header .container{ flex-direction:column; align-items:flex-start !important }
      nav{ display:none }
      .btn{ padding:11px 14px }
      .grid.cols-2{ grid-template-columns:1fr }
      .price-table{ min-width:460px }
      .price-table th{ font-size:.9rem; padding:7px 8px !important }
      .price-table td{ font-size:.92rem; padding:8px 8px !important }
      .mapbar{ height:auto }
      .mapbar .wrap{ grid-template-columns:1fr; padding:12px 16px }
      .mapbar iframe{ height:260px }
      .form .row{ grid-template-columns:1fr }
      .actions{ flex-direction:column; align-items:stretch }
      .actions .btn{ width:100%; justify-content:center }
    }

    @media (max-width: 380px){
      .container{ padding:14px }
      .card{ padding:14px }
    }
  </style>
</head>
<body style="--primary: {{ (site and site.primary_color) or '#C2185B' }}">
  <header>
    <div class="container" style="display:flex; align-items:center; justify-content:space-between; gap:16px;">
      <div class="brand">
        <img class="logo" src="/static/img/logo.svg" alt="Motel Bela Vista" />
        <div>
          <div class="title">Motel Bela Vista</div>
          <div class="subtitle">Rio Pardo/RS — conforto e privacidade — Atendimento 24h</div>
          <div class="contact-line">
            <span>Telefone/WhatsApp:</span>
            <a href="https://wa.me/5551995843009?text=Ol%C3%A1%2C+gostaria+de+informa%C3%A7%C3%B5es" target="_blank">(51)99584-3009</a>
            <span class="sep"> | </span>
            <a href="https://wa.me/5551995843002?text=Ol%C3%A1%2C+gostaria+de+informa%C3%A7%C3%B5es" target="_blank">(51)99584-3002</a>
          </div>
          <div class="subtitle" style="margin-top:6px; font-size:.92rem">Dica: clique nos telefones para abrir o WhatsApp.</div>
          <div style="margin-top:8px; display:flex; flex-direction:column; align-items:center; text-align:center; padding:6px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.14); background:rgba(255,209,102,.12); color:#ffe7a6; font-weight:600; font-size:.92rem; line-height:1.2">
            <div>Reservas mediante pagamento adiantado por PIX</div>
            <div>(chave pix: 51995843002).</div>
          </div>
        </div>
      </div>
      <nav style="display:flex; gap:10px; flex-wrap:wrap;">
        <a class="btn" href="/">Início</a>
        <a class="btn" href="/sobre">Sobre</a>
        <a class="btn" href="/apartamentos">Apartamentos</a>
        <a class="btn" href="/contato">Contato</a>
        {% if current_user %}
          {% if current_user.role == 'admin' %}
            <a class="btn" href="/administracao">Administração</a>
          {% endif %}
          {% if current_user.role == 'funcionario' or current_user.role == 'admin' %}
            <a class="btn" href="/funcionarios">Funcionários</a>
          {% endif %}
          <form method="post" action="/logout" style="margin:0">
            <button class="btn" type="submit">Sair</button>
          </form>
        {% else %}
          <a class="btn" href="/admin/login">Administração</a>
        {% endif %}
      </nav>
    </div>
  </header>

  <main>
    <div class="container">
      {% block content %}{% endblock %}
    </div>
  </main>

  <footer>
    <div class="container" style="padding:18px 24px; display:flex; align-items:center; justify-content:center; gap:10px; opacity:.9; flex-wrap:wrap">
      <div style="display:flex; align-items:center; justify-content:center; gap:10px; flex-wrap:wrap">
        <img src="/static/img/logo.svg" alt="Motel Bela Vista" style="height:18px; width:auto; display:block" />
        <div style="font-size:.92rem">CNPJ: 03.260.863/0001-96 desde 1999</div>
      </div>
    </div>
  </footer>

  {% set endereco_padrao = 'Rua Guarani 212, Rio Pardo RS, CEP 96640-000, Brasil' %}
  {% set endereco_mapa = (site.endereco if site and site.endereco else endereco_padrao) %}
  {% set query_mapa = ('Motel Bela Vista, ' ~ endereco_mapa) %}
  {% set maps_url = (site.maps_embed_url if site and site.maps_embed_url else ('https://www.google.com/maps?output=embed&q=' ~ (query_mapa | urlencode))) %}
  <div class="mapbar">
    <div class="wrap">
      <div class="info">
        <div class="line"><strong>Motel Bela Vista</strong></div>
        <div class="line"><span class="label">Endereço:</span> {{ endereco_mapa }}</div>
        <div class="line"><span class="label">Telefone/WhatsApp:</span> <a href="https://wa.me/5551995843009?text=Ol%C3%A1%2C+gostaria+de+informa%C3%A7%C3%B5es" target="_blank">(51)99584-3009</a> | <a href="https://wa.me/5551995843002?text=Ol%C3%A1%2C+gostaria+de+informa%C3%A7%C3%B5es" target="_blank">(51)99584-3002</a></div>
        <div class="line"><span class="label">Horário:</span> Atendimento 24h</div>
        {% if site.email %}
          <div class="line"><span class="label">Email:</span> <a href="mailto:{{ site.email }}">{{ site.email }}</a> <span class="label">(clique para enviar)</span></div>
        {% else %}
          <div class="line"><span class="label">Email:</span> <a href="mailto:motelbelavistarp@gmail.com">motelbelavistarp@gmail.com</a> <span class="label">(clique para enviar)</span></div>
        {% endif %}
        <div style="display:flex; gap:10px; flex-wrap:wrap">
          <a class="btn" href="https://www.google.com/maps/search/?api=1&query={{ query_mapa | urlencode }}" target="_blank">Como chegar</a>
        </div>
      </div>
      <div>
        <iframe src="{{ maps_url }}" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>
    </div>
  </div>

  <div class="container" style="padding:10px 24px; display:flex; align-items:center; justify-content:flex-end; gap:10px; opacity:.9; flex-wrap:wrap">
    {% include 'partials/herzog_developer_signature.html' %}
  </div>
</body>
</html>
