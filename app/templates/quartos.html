{% extends "base.html" %}
{% block title %}Suítes — {{ (site and site.nome_site) or 'Motel Bela Vista' }}{% endblock %}
{% block content %}
  <h1 style="margin:0 0 12px">Suítes</h1>
  {% if suites and suites|length %}
    <div class="grid" style="grid-template-columns: repeat(2, minmax(0,1fr)); gap:16px">
      {% for s in suites %}
        <div class="card" style="overflow:hidden">
          {% set cover = cover_map.get(s.id) %}
          {% if cover %}
            <img src="{{ cover.url }}" alt="{{ cover.legenda or s.titulo }}" style="width:100%; height:180px; object-fit:cover; border-radius:12px" />
          {% endif %}
          <div style="margin-top:10px">
            <h3 style="margin:0 0 4px">{{ s.titulo }}</h3>
            <div class="subtitle">{{ s.tipo and s.tipo.nome or '' }}</div>
            {% set ams = amen_map.get(s.id) or [] %}
            {% if ams %}
              <div style="margin-top:8px; display:flex; gap:6px; flex-wrap:wrap">
                {% for a in ams[:6] %}
                  <span class="badge">{{ a }}</span>
                {% endfor %}
                {% if ams|length > 6 %}<span class="subtitle">+{{ ams|length - 6 }} mais</span>{% endif %}
              </div>
            {% endif %}
            <div style="margin-top:8px; display:flex; gap:8px; flex-wrap:wrap">
              {% if s.preco_hora %}<span class="badge">R$ {{ '%.2f'|format(s.preco_hora) }}/h</span>{% endif %}
              {% if s.preco_pernoite %}<span class="badge">Pernoite R$ {{ '%.2f'|format(s.preco_pernoite) }}</span>{% endif %}
              {% if not s.preco_hora and not s.preco_pernoite %}<span class="subtitle">Consulte valores</span>{% endif %}
            </div>
            <div style="margin-top:10px">
              <a class="btn" href="/suites/{{ s.slug }}">Ver detalhes</a>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="subtitle">Em breve nossas suítes estarão disponíveis aqui.</p>
  {% endif %}
{% endblock %}
